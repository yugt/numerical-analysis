\documentclass[12pt,letterpaper]{book}
\usepackage[letterpaper, margin=1in, headheight=105pt]{geometry}
\usepackage[active,tightpage,floats]{preview}
\usepackage{subcaption}
\usepackage{enumerate}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{calligra}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{caption}
\usepackage{titling}
\usepackage{xparse}
\usepackage{amsthm}
\usepackage{float}
\usepackage{ifpdf}
\usepackage{float}
\usepackage[dvipsnames]{xcolor}
\usepackage[linesnumbered,
			boxed,
			algochapter,
			algo2e,
			lined]{algorithm2e}
\usepackage[numbered,
			framed]{matlab-prettifier}
\usepackage[backend=biber,backref=true]{biblatex}
\usepackage[titletoc]{appendix}
\addbibresource{reference.bib}

\makeatletter
\@addtoreset{chapter}{part}
\makeatother


\hypersetup{colorlinks=true,
			linkcolor=WildStrawberry,
			anchorcolor=red,
			citecolor=green,
			urlcolor=RoyalBlue,
			filecolor=brown,
			menucolor=pink}

\newcommand{\webview}{1}

\title{{\textbf{VV570 Numerical Analysis}}}
\author{\href{http://www-personal.umich.edu/~yugtmath}{\calligra{Guangting Yu}}}
\date{\today}

\renewcommand{\PreviewBorder}{2in}
\newcommand{\ud}{~\mathrm{d}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\D}[2]{\frac{\ud^{#1}}{\ud{#2}^{#1}}}
\newcommand{\DD}[3]{\frac{\ud^{#1}{#3}}{\ud{#2}^{#1}}}
\NewDocumentCommand\Set{mg}{\ensuremath{\bigl\{#1\IfNoValueTF{#2}{}{\bigm|#2}\bigr\}}}
\NewDocumentCommand\Sets{mg}{\ensuremath{\left\{#1\IfNoValueTF{#2}{}{\bigm|#2}\right\}}}

\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]

\graphicspath{{./graphics/}}

\thispagestyle{empty}

\setlength{\algomargin}{2em}
\lstset{xleftmargin=.1\textwidth, xrightmargin=.1\textwidth}


\begin{document}
\begin{preview}
\tableofcontents
\listoftables
\listoffigures
\listofalgorithmes
\end{preview}
\begin{preview}
\part{Assignments}
\end{preview}

\renewcommand{\chaptername}{Assignment}
\titleformat{\section}{\normalfont\large\bfseries}{Exercise \thesection\ --- }{1pt}{}
\begin{preview}
\input{./assignments/assignment1.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment2.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment3.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment4.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment6.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment6.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment7.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment8.tex}
\end{preview}
\begin{preview}
\input{./assignments/assignment9.tex}
\end{preview}

\begin{preview}
\part{Labs}
\end{preview}
\renewcommand{\chaptername}{Lab}
\renewcommand{\thesection}{\arabic{section}}
\titleformat{\section}{\normalfont\Large\bfseries}{Task \thesection}{1em}{}
\begin{preview}
\input{labs/lab1}
\end{preview}
\begin{preview}
\input{labs/lab2}
\end{preview}
\begin{preview}
\input{labs/lab3}
\end{preview}
\begin{preview}
\input{labs/lab4}
\end{preview}

\begin{preview}
\part{Projects}
\end{preview}
\renewcommand{\chaptername}{Projects}
\titleformat{\section}{\normalfont\Large\bfseries}{\thesection}{1em}{}
\begin{preview}
\input{project1.tex}
\end{preview}
\begin{preview}
\input{project2.tex}
\end{preview}

\begin{preview}
\part{External Resources}
\end{preview}
\renewcommand{\chaptername}{External Resource}
\lstset{xleftmargin=.05\textwidth, xrightmargin=0.01\textwidth}
\begin{preview}
\input{resources}
\end{preview}

\begin{preview}
\printbibliography
\end{preview}
\end{document}